<!DOCTYPE html>
<html>
  <head>
    <title>Finished product Form</title>
    <link rel="stylesheet" type="text/css" href="styles.css" />
    <link rel="icon" href="./images/favico.png" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!--fetching google sheet value-->
    <script>
      // Function to fetch time value from Google Apps Script web app
      // function fetchTimeFromGoogleSheets() {
      //   fetch(
      //     "https://script.google.com/macros/s/AKfycbwZKPCzN-Tx0SL3ajL5-UpjhYUvvztC23cz2r2jP-CFTwkJH56GpAasVFzioeka-pS9rA/exec"
      //   )
      //     .then((response) => response.text())
      //     .then((data) => {
      //       // Update the 'timeValueField' input with the fetched time value
      //       const textField = document.getElementById("timeValueField");
      //       if (textField) {
      //         textField.value = data;
      //       } else {
      //         console.error('Element with ID "timeValueField" not found.');
      //       }
      //     })
      //     .catch((error) => {
      //       console.error("Error:", error);
      //     });
      // }

      // // Call the function when the DOM is fully loaded
      // document.addEventListener("DOMContentLoaded", fetchTimeFromGoogleSheets);
    </script>
  </head>

  <body>
    <!-- Logo -->
    <div class="logo">
      <a href="https://rafiqfarmfoods.com/" target="_blank">
        <img id="logoImg" src="./images/rff.png" />
      </a>
    </div>

    <!-- Form -->
    <h1>Finished Product Form</h1>
    <div id="line"></div>
    <form id="FinishedproductForm">
      <!-- Wapda -->
      <!-- <input type="text" id="timeValue" readonly /> -->

      <iframe
        class="styled-iframe"
        src="https://script.google.com/macros/s/AKfycbxQNzUsdrpCrmcrFV5EQycYEn5O2gyx4YzcldZn5NIcuDr_NS-CpK-kp6fsKJhqSFpL7g/exec"
        scrolling="no"
      ></iframe>

      <!-- second three -->
      <!-- RM DETAIL -->
      <div class="section">
        <h2>RM Details</h2>
        <div class="section-content">
          <div class="RSD">
            <div class="wrapper">
              <label for="RSD">LIR ref. </label>

              <input
                type="text"
                id="gen1Units"
                name="LIR ref."
                placeholder="Enter LIR ref."
              />
            </div>
            <div class="wrapper">
              <label for="RSD">Vehicle </label>

              <input
                type="text"
                id="gen1Units"
                name="Vehicle"
                placeholder="Enter Vehicle "
              />
            </div>

            <div class="wrapper">
              <label for="RSD">Feed start </label>
              <input
                type="text"
                id="gen1Units"
                name="Feed start"
                placeholder="Enter Feed start "
              />
            </div>
          </div>
          <div class="RSD">
            <div class="wrapper">
              <label for="RSD">Feed Stop </label>
              <input
                type="text"
                id="gen1Units"
                name="Feed Stop"
                placeholder="Enter Feed Stop"
              />
            </div>
            <div class="wrapper">
              <label for="RSD">Weight(kg) </label>
              <input
                type="number"
                id="gen1Units"
                name="Weight(kg)"
                placeholder="Enter Weight(kg)"
                step=".1"
              />
            </div>
            <div class="wrapper">
              <label for="RSD">Remarks</label>
              <input
                type="text"
                id="gen1Units"
                name="Remarks"
                placeholder="Enter Remarks"
              />
            </div>
          </div>
        </div>
      </div>
      <!-- END OF RM DETAIL -->

      <!-- Steam Peeler Log -->
      <div class="section">
        <h2>Steam Peeler Log</h2>
        <div class="section-content">
          <div class="RSD">
            <div class="wrapper">
              <label for="RSD">Time (HH:MM)</label>
              <input
                type="text"
                id="gen1diesel"
                name="Time(HH:MM) peeler log"
                placeholder="Enter Time"
                min="0"
                class="time-input"
                id="availability-duration"
              />
            </div>
            <div class="wrapper">
              <label for="RSD">Batch Weight(kg)</label>
              <input
                type="number"
                id="gen1diesel"
                name="Batch Weight(kg)"
                placeholder="Enter Batch Weight (kg)"
                step=".1"
              />
            </div>

            <div class="wrapper">
              <label for="RSD">Speed(Hz)</label>
              <input
                type="number"
                id="gen1diesel"
                name="Speed(Hz) peeler log"
                placeholder="Enter Speed(Hz)"
                min="0"
              />
            </div>
          </div>

          <div class="RSD">
            <div class="wrapper">
              <label for="RSD">Time(sec)</label>
              <input
                type="number"
                id="gen1diesel"
                name="Time(sec) peeler log"
                placeholder="Enter Time(sec)"
                min="0"
              />
            </div>

            <div class="wrapper">
              <label for="RSD">Steam pressure</label>
              <input
                type="number"
                id="gen1diesel"
                name="Steam pressure peeler log"
                placeholder="Enter Steam pressure"
                min="0"
              />
            </div>
            <div class="wrapper">
              <label for="RSD">Remarks</label>
              <input
                type="text"
                id="gen1diesel"
                name="Remarks peeler log"
                placeholder="Enter Remarks"
                min="0"
              />
            </div>
          </div>
        </div>
      </div>
      <!-- END OF Steam Peeler Log -->

      <!-- Finsihed Product status Section -->
      <div class="section">
        <h2>Finished Product Status</h2>
        <div class="section-content">
          <div class="RSD">
            <div class="wrapper">
              <label for="RSD">Batch Code & Cut size</label>
              <input
                type="text"
                id="wapdaoffpeakend"
                name="Batch Code & Cut size"
                placeholder="Enter Batch code"
              />
            </div>

            <div class="wrapper">
              <label for="RSD">Total IQF packed(kg)</label>
              <input
                type="number"
                min="0"
                id="wapdatotal"
                name="Total IQF packed(kg)"
                placeholder="Enter Total IQF packed"
                step=".1"
              />
            </div>

            <div class="wrapper">
              <label for="RSD">Avg.FP Temperature</label>
              <input
                type="text"
                id="wapdaoffpeakend"
                name="Avg.FP Temperature"
                placeholder="Enter Temperature"
              />
            </div>
          </div>

          <div class="RSD">
            <div class="wrapper">
              <label for="RSD">Waste(kg)</label>
              <input
                type="number"
                id="wapdaoffpeakend"
                name="Waste(kg)"
                placeholder="Enter Waste (kg)"
                step=".1"
              />
            </div>

            <div class="wrapper">
              <label for="RSD">Starting product waste</label>
              <input
                type="number"
                min="0"
                id="wapdatotal"
                name="Starting product waste"
                placeholder="Enter Starting product"
                step=".1"
              />
            </div>

            <div class="wrapper">
              <label for="RSD">Miscellaneous waste</label>
              <input
                type="number"
                id="wapdaoffpeakend"
                name="miscellaneous product waste"
                placeholder="Enter Misc waste"
                min="0"
                step=".1"
              />
            </div>
          </div>
        </div>
      </div>

      <!-- Product HOlding Log -->
      <div class="section">
        <h2>Product Holding Log</h2>
        <div class="section-content">
          <div class="RSD">
            <div class="wrapper">
              <label for="RSD">Batch Code</label>

              <input
                type="text"
                id="gen1Units"
                name="Batch Code for product holding log"
                placeholder="Enter Batch Code"
                pattern="[a-zA-Z0-9]+"
              />
            </div>

            <div class="wrapper">
              <label for="RSD">Series C/P</label>
              <input
                type="text"
                id="gen1diesel"
                name="Series C/P"
                placeholder="Enter Series C/P"
              />
            </div>
            <div class="wrapper">
              <label for="RSD">Holding Reason</label>
              <input
                type="text"
                id="gen1diesel"
                name="Holding Reason"
                placeholder="Enter Holding Reason"
              />
            </div>
          </div>
          <div class="RSD">
            <div class="wrapper">
              <label for="RSD">Hold Product (kg)</label>
              <input
                type="number"
                id="gen1diesel"
                name="Hold Product (kg)"
                placeholder="Enter Hold Product (kg)"
                step=".1"
              />
            </div>
            <div class="wrapper">
              <label for="RSD">QA Rep</label>
              <input
                type="text"
                id="gen1diesel"
                name="QA Rep"
                placeholder="Enter QA Rep"
              />
            </div>
          </div>
        </div>
      </div>
      <!-- END OF Product holding log -->

      <!-- Line Downtime Log -->
      <div class="section">
        <h2>Line Downtime Log</h2>
        <div class="section-content">
          <div class="RSD">
            <div class="wrapper">
              <label for="RSD">Line Start</label>

              <input
                type="text"
                id="gen1Units"
                name="Line Start"
                placeholder="Enter Line stop"
              />
            </div>

            <div class="wrapper">
              <label for="RSD">Line Stop</label>
              <input
                type="text"
                id="gen1diesel"
                name="Line stop"
                placeholder="Enter Line Start"
              />
            </div>
            <div class="wrapper">
              <label for="RSD">Downtime(m)</label>
              <input
                type="number"
                id="gen1diesel"
                name="Downtime(m)"
                placeholder="Enter Downtime(m)"
              />
            </div>
          </div>
          <div class="RSD">
            <div class="wrapper">
              <label for="RSD">Description of problem</label>
              <input
                type="text"
                id="gen1diesel"
                name="Description of problem"
                placeholder="Enter Description of problem"
              />
            </div>
            <div class="wrapper">
              <label for="RSD">Maintainace Technician</label>
              <input
                type="text"
                id="gen1diesel"
                name="Maintainace Technician"
                placeholder="Enter Maintainace Technician"
              />
            </div>
          </div>
        </div>
      </div>
      <!-- END OF Line downtime log -->

      <!-- Oil status -->
      <div class="section">
        <h2 style="cursor: pointer">Oil Status @startup / shutdown</h2>
        <div class="section-content">
          <div class="RSD">
            <div class="wrapper">
              <label for="RSD">Fresh Initial</label>
              <input
                type="text"
                id="gen1diesel"
                name="Fresh Initial"
                placeholder="Fresh Initial"
                min="0"
              />
            </div>

            <div class="wrapper">
              <label for="RSD">Fresh Final</label>
              <input
                type="text"
                id="gen1diesel"
                name="Fresh Final"
                placeholder="Enter Fresh Final"
                min="0"
              />
            </div>
          </div>

          <div class="RSD">
            <div class="wrapper">
              <label for="RSD">D-Tank Initial</label>
              <input
                type="text"
                id="gen1diesel"
                name="D-Tank Initial"
                placeholder="Enter D-Tank Initial"
                min="0"
              />
            </div>

            <div class="wrapper">
              <label for="RSD">D-Tank Final</label>
              <input
                type="text"
                id="gen1diesel"
                name="D-Tank Final"
                placeholder="Enter D-Tank Final"
                min="0"
              />
            </div>
          </div>
          <div class="RSD">
            <div class="wrapper">
              <label for="RSD">Startup Fill</label>
              <input
                type="text"
                id="gen1diesel"
                name="Startup Fill"
                placeholder="Enter Startup Fill"
                min="0"
              />
            </div>

            <div class="wrapper">
              <label for="RSD">Used Return</label>
              <input
                type="text"
                id="gen1diesel"
                name="Used Return"
                placeholder="Used Return"
                min="0"
              />
            </div>
          </div>
          <div class="wrapper">
            <label for="RSD">Used Oil FFA</label>
            <input
              type="text"
              id="gen1diesel"
              name="Used Oil FFA"
              placeholder="Enter Used Oil FFA"
              min="0"
            />
          </div>
        </div>
      </div>
      <!-- END OF Oil status -->

      <div class="section">
        <h2>Equipment Parameters</h2>
        <div class="section-content">
          <div class="RSD">
            <div class="wrapper">
              <label for="RSD">Inspection Time</label>
              <input
                type="text"
                class="time-input"
                id="gen1Units"
                name="Inspection Time"
                placeholder="HH:MM"
              />
            </div>

            <div class="wrapper">
              <label for="RSD">Hopper speed(Hz)</label>
              <input
                type="number"
                id="gen1Units"
                name="Hopper speed(Hz)"
                placeholder="Enter Hopper speed(Hz)"
              />
            </div>
          </div>

          <h3>Blancher-1</h3>

          <div class="RSD">
            <div class="wrapper">
              <label for="RSD">Time(min)</label>
              <input
                type="number"
                id="gen1Units"
                name="Time(min) for Blancher-1"
                placeholder="Enter Time(min)"
              />
            </div>

            <div class="wrapper">
              <label for="RSD">Temperature(^C)</label>
              <input
                type="number"
                id="gen1Units"
                name="Temperature(^C) for Blancher-1"
                placeholder="Enter Temperature(^C)"
              />
            </div>
          </div>
          <div class="RSD">
            <div class="wrapper">
              <label for="RSD">Weight Loss</label>
              <input
                type="number"
                id="gen1Units"
                name="Weight Loss for Blancher-1"
                placeholder="Enter Weight Loss"
                min="0"
                step=".1"
              />
            </div>
          </div>

          <h3>Blancher-2</h3>

          <div class="RSD">
            <div class="wrapper">
              <label for="RSD">Time(min)</label>
              <input
                type="number"
                id="gen1Units"
                name="Time(min) for Blancher-2"
                placeholder="Enter Time(min)"
              />
            </div>

            <div class="wrapper">
              <label for="RSD">Temperature(^C)</label>
              <input
                type="number"
                id="gen1Units"
                name="Temperature(^C) for Blancher-2"
                placeholder="Enter Temperature(^C)"
              />
            </div>
          </div>
          <div class="RSD">
            <div class="wrapper">
              <label for="RSD">Weight Loss</label>
              <input
                type="number"
                id="gen1Units"
                name="Weight Loss for Blancher-2"
                placeholder="Enter Weight Loss"
                min="0"
                step=".1"
              />
            </div>
          </div>

          <h3>Dryer</h3>

          <div class="RSD">
            <div class="wrapper">
              <label for="RSD">Time(min)</label>
              <input
                type="number"
                id="gen1Units"
                name="Time(min) for Dryer"
                placeholder="Enter Time(min)"
              />
            </div>

            <div class="wrapper">
              <label for="RSD">Temperature(^C)</label>
              <input
                type="number"
                id="gen1Units"
                name="Temperature(^C) for Dryer"
                placeholder="Enter Temperature(^C)"
              />
            </div>
          </div>
          <div class="RSD">
            <div class="wrapper">
              <label for="RSD">Weight Loss</label>
              <input
                type="number"
                id="gen1Units"
                name="Weight Loss for Dryer"
                placeholder="Enter Weight Loss"
                min="0"
                step=".1"
              />
            </div>
          </div>

          <h3>Fryer</h3>

          <div class="RSD">
            <div class="wrapper">
              <label for="RSD">Time(min)</label>
              <input
                type="number"
                id="gen1Units"
                name="Time(min) for Fryer"
                placeholder="Enter Time(min)"
              />
            </div>

            <div class="wrapper">
              <label for="RSD">Temperature(^C)</label>
              <input
                type="number"
                id="gen1Units"
                name="Temperature(^C) for Fryer"
                placeholder="Enter Temperature(^C)"
              />
            </div>
          </div>
          <div class="RSD">
            <div class="wrapper">
              <label for="RSD">Weight Loss</label>
              <input
                type="number"
                id="gen1Units"
                name="Weight Loss for Fryer"
                placeholder="Enter Weight Loss"
                min="0"
                step=".1"
              />
            </div>
          </div>
        </div>
      </div>

      <!-- Cut size section -->
      <div class="section">
        <h2 style="cursor: pointer">Cut Size</h2>
        <div class="section-content">
          <div class="wrapper">
            <label for="SizeChange"
              ><strong>Size change during shift</strong></label
            >
            <select id="SizeChange" name="Cut Size Change During Shift">
              <option value="">Please select Yes</option>
              <option value="Yes">Yes</option>
            </select>

            <div class="wrapper" id="additionalFields">
              <label for="CutSize"><strong>Cut Size</strong></label>
              <select id="CutSize" name="Cut Size">
                <option value="">Select cut size</option>
                <option value="6x6 mm">6x6 mm</option>
                <option value="9x9 mm">9x9 mm</option>
                <option value="12x12 mm">12x12 mm</option>
              </select>

              <label><strong>Number of blades</strong></label>
              <select id="NumberOfBlades" name="Number of blades">
                <option value="">0</option>
                <option value="1">1</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5</option>
                <option value="6">6</option>
                <option value="7">7</option>
                <option value="8">8</option>
                <option value="9">9</option>
                <option value="10">10</option>
                <option value="11">11</option>
                <option value="12">12</option>
              </select>
            </div>
            <label><strong>Cutter Blades Replaced</strong></label>
            <select id="BladesReplaced" name="Cutter Blades Replaced">
              <option value="">Please select Yes</option>
              <option value="Yes">Yes</option>
            </select>

            <div class="RSD" id="BladesDetails">
              <div class="wrapper">
                <label for="Time">Time</label>
                <input
                  type="text"
                  class="time-input"
                  id="Time"
                  placeholder="HH:MM"
                  name="Time If Cutter Blades Replaced"
                />
              </div>

              <div class="wrapper">
                <label for="Batch Code">Batch Code</label>
                <input
                  type="number"
                  id="Batch Code"
                  name="Batch Code for cut size"
                  placeholder="Enter Batch Code"
                />
              </div>
            </div>
            <div class="wrapper">
              <label for="BladeCode">Blade Code</label>
              <textarea
                rows="2"
                id="BladeCode"
                name="Blade Code If Cutter Blades Replaced"
                placeholder="Enter each blade code in next line"
              ></textarea>
            </div>
          </div>
        </div>
      </div>
      <!-- END OF Cut size section -->

      <input type="submit" value="Submit" />
    </form>

    <!-- spinner html -->
    <div class="spinner-container">
      <div class="spinner"></div>
    </div>
    <!-- end of spinner html -->

    <!-- Add the modal HTML code -->
    <div id="myModal" class="modal">
      <span class="close">&times;</span>
      <div class="modal-content">
        <p id="modal-message"></p>
        <button id="closeBtn">Close</button>
      </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
      <p>
        <a href="https://rafiqfarmfoods.com/" target="_blank"
          >Copyright &copy; Rafiq Farm Foods | All Right Reserved.
        </a>
      </p>
    </footer>
    <!-- end of Footer -->

    <script>
      const scriptURL =
        "https://script.google.com/macros/s/AKfycbxxCBNeIApJdw2KodcPSpRosJfLuIhWoha-xf_657kGyl93_m4qVU4BQM-meFgg-b8B9Q/exec";
      const form = document.getElementById("FinishedproductForm");

      // modal javascript
      // Get the modal element, the close button, and the close button inside the modal
      const modal = document.getElementById("myModal");
      const closeBtn = document.querySelector(".close");
      const modalCloseBtn = document.getElementById("closeBtn");

      form.addEventListener("submit", (e) => {
        e.preventDefault();
        modal.style.display = "block";
        fetch(scriptURL, { method: "POST", body: new FormData(form) })
          .then((response) => {
            if (!areAllFieldsHidden()) hideSpinner(); // Hide the spinner

            document.getElementById("modal-message").textContent = "Success!";
          })
          .catch((error) => {
            hideSpinner(); // Hide the spinner
            document.getElementById("modal-message").textContent =
              "Error! " + error.message;
          });
      });
      // Close the modal when the close button is clicked
      closeBtn.addEventListener("click", () => {
        modal.style.display = "none";
      });
      // Close the modal when the close button inside the modal is clicked
      modalCloseBtn.addEventListener("click", () => {
        modal.style.display = "none";
      });
    </script>

    <!-- reseting form after submitting -->
    <script>
      document
        .getElementById("FinishedproductForm")
        .addEventListener("submit", function (event) {
          event.preventDefault(); // Prevent the default form submission

          this.reset();
        });
    </script>
    <!-- end of for reseting after submitting -->

    <script>
      // Function to show the spinner
      function showSpinner() {
        const spinnerContainer = document.querySelector(".spinner-container");
        spinnerContainer.style.display = "flex";
        modal.style.display = "none";
      }

      // Function to hide the spinner
      function hideSpinner() {
        const spinnerContainer = document.querySelector(".spinner-container");
        spinnerContainer.style.display = "none";
        modal.style.display = "block";
      }

      // Function to handle form submission
      function handleSubmit(event) {
        event.preventDefault();
        showSpinner(); // Show the spinner
      }

      // Add event listener to form submit

      form.addEventListener("submit", handleSubmit);
    </script>
    <!-- End of spinner -->

    <!-- check time validations -->
    <script>
      // Get the input element
      var durationInput = document.getElementById("availability-duration");
      durationInput.addEventListener("change", function () {
        durationInput.setCustomValidity("");
        var value = durationInput.value;
        var hours = parseInt(value.split(":")[0]);
        var minutes = parseInt(value.split(":")[1]);
        if (isNaN(hours) || isNaN(minutes) || minutes >= 60) {
          durationInput.setCustomValidity(
            "Please enter a valid duration in HH:MM format with hours under 23 and minutes under 60."
          );
        }
      });
    </script>

    <!-- Hidden functionalities are here -->
    <script>
      // Function to toggle the required attribute of input elements
      function toggleRequired(inputs, isRequired) {
        inputs.forEach((input) => {
          input.required = isRequired;
        });
      }

      // Function to hide content between headings
      function hideContentBetweenHeadings() {
        const sections = document.querySelectorAll(".section");
        sections.forEach((section) => {
          const content = section.querySelector(".section-content");
          content.style.display = "none";
        });
      }

      // Function to check if all input fields are hidden
      function areAllFieldsHidden() {
        const sections = document.querySelectorAll(".section");
        return [...sections].every((section) => {
          const content = section.querySelector(".section-content");
          return content.style.display === "none";
        });
      }

      // Add an event listener for when the form is submitted
      document.querySelector("form").addEventListener("submit", function (e) {
        if (areAllFieldsHidden()) {
          spinnerContainer.style.display = "none";
          e.preventDefault(); // Prevent form submission
          alert(
            "Please fill in at least one field before submitting the form."
          );
        }
      });

      // Toggle content visibility and required attribute on click
      function toggleContentAndRequired() {
        const sections = document.querySelectorAll(".section");
        sections.forEach((section) => {
          const heading = section.querySelector("h2");
          const content = section.querySelector(".section-content");

          heading.addEventListener("click", () => {
            // Toggle the visibility of the content within the section
            content.style.display =
              content.style.display === "none" ? "block" : "none";

            // Determine if the content is now visible or hidden
            const isContentVisible = content.style.display === "block";

            // Get all the input elements within the content
            const inputElements = content.querySelectorAll("input");

            // Toggle the "required" attribute based on visibility
            toggleRequired(inputElements, isContentVisible);
          });
        });
      }

      // Add an event listener for when the page is fully loaded
      window.addEventListener("load", () => {
        hideContentBetweenHeadings();
        toggleContentAndRequired();
      });
    </script>
    <script>
      // Function to check if all input fields are hidden
      function areAllFieldsHidden() {
        const sections = document.querySelectorAll(".section");
        return [...sections].every((section) => {
          const content = section.querySelector(".section-content");
          return content.style.display === "none";
        });
      }

      // Function to hide the modal
      function hideModal() {
        const modal = document.getElementById("myModal");
        modal.style.display = "none";
      }

      // Add an event listener for when the form is submitted
      document.querySelector("form").addEventListener("submit", function (e) {
        if (areAllFieldsHidden()) {
          e.preventDefault(); // Prevent form submission
          alert(
            "Please fill in at least one field before submitting the form."
          );

          // Hide the spinner, message, and modal
          const spinnerContainer = document.querySelector(".spinner-container");
          spinnerContainer.style.display = "none";
          hideModal();
        }
      });
    </script>
    <script>
      // Function to validate the duration input
      function validateDurationInput(inputElement) {
        inputElement.addEventListener("change", function () {
          inputElement.setCustomValidity("");
          var value = inputElement.value;
          var timeParts = value.split(":");

          // Check if the input is in the format HH:MM or HH
          if (timeParts.length === 2) {
            var hours = parseInt(timeParts[0]);
            var minutes = parseInt(timeParts[1]);

            if (
              isNaN(hours) ||
              isNaN(minutes) ||
              hours > 24 ||
              (hours === 24 && minutes !== 0) ||
              minutes >= 60
            ) {
              inputElement.setCustomValidity(
                "Please enter a valid duration in HH:MM format with hours under 24 and minutes under 60."
              );
            }
          } else if (timeParts.length === 1) {
            var hoursOnly = parseInt(timeParts[0]);

            if (isNaN(hoursOnly) || hoursOnly > 24) {
              inputElement.setCustomValidity(
                "Please enter a valid duration in HH:MM format with hours under 24."
              );
            }
          } else {
            inputElement.setCustomValidity(
              "Please enter a valid duration in HH:MM format or hours only."
            );
          }
        });
      }

      // Get the input elements and validate them
      var durationInputs = document.querySelectorAll(".time-input");
      durationInputs.forEach(function (input) {
        validateDurationInput(input);
      });

      // auto add colon : between HH and MM
      document.addEventListener("DOMContentLoaded", function () {
        const timeInputs = document.querySelectorAll(".time-input");

        timeInputs.forEach(function (inputElement) {
          inputElement.addEventListener("input", function (event) {
            const inputValue = event.target.value.trim();

            // Check if the input value has reached 2 characters (HH)
            if (inputValue.length === 2 && !inputValue.includes(":")) {
              // Add the colon ':' after the HH part
              event.target.value = inputValue + ":";
            }
          });
        });
      });
    </script>
  </body>
</html>
